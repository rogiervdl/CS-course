<!DOCTYPE html>
<!-- [html-validate-disable no-trailing-whitespace] -->
<html lang="nl">

<head>
   <title>C# syntax | C# cursus</title>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <link rel="stylesheet" href="common/styles.css">
   <link rel="stylesheet" href="css/styles.css">
</head>

<body class="prism-vslight language-cs showpro" id="top">
   <div id="mode">
      <span>n00b</span>
      <label class="switch">
         <input type="checkbox" checked>
         <span class="slider round"></span>
      </label>
      <span>pro</span>
   </div>
   <nav class="site__nav">
      <a href="01_variabelen.html" class="main__thumb">
         <p class="thumb__title">01. variabelen</p>
         <img class="thumb__visual" src="img/01_variabelen/icon.jpg" alt="">
      </a>
      <a href="02_selecties.html" class="main__thumb">
         <p class="thumb__title">02. selecties</p>
         <img class="thumb__visual" src="img/02_selecties/icon.jpg" alt="">
      </a>
      <a href="03_iteraties.html" class="main__thumb">
         <p class="thumb__title">03. iteraties</p>
         <img class="thumb__visual" src="img/03_iteraties/icon.jpg" alt="">
      </a>
      <a href="04_methodes.html" class="main__thumb active">
         <p class="thumb__title">04. methodes</p>
         <img class="thumb__visual" src="img/04_methodes/icon.jpg" alt="">
      </a>
      <a href="05_arrays.html" class="main__thumb">
         <p class="thumb__title">05. arrays</p>
         <img class="thumb__visual" src="img/05_arrays/icon.jpg" alt="">
      </a>
      <a href="06_dotnetclasses.html" class="main__thumb">
         <p class="thumb__title">06 .NET classes</p>
         <img class="thumb__visual" src="img/06_dotnetclasses/icon.png" alt="">
      </a>
      <a href="07_wpfcontrols.html" class="main__thumb">
         <p class="thumb__title">07. WPF controls</p>
         <img class="thumb__visual" src="img/07_wpfcontrols/icon.png" alt="">
      </a>
      <a href="08_wpflayout.html" class="main__thumb pro">
         <p class="thumb__title">08. WPF layout</p>
         <img class="thumb__visual" src="img/08_wpflayout/icon2.png" alt="">
      </a>
      <a href="09_bestanden.html" class="main__thumb pro">
         <p class="thumb__title">09. bestanden</p>
         <img class="thumb__visual" src="img/09_bestanden/icon.png" alt="">
      </a>
      <a href="10_classes_properties.html" class="main__thumb pro">
         <p class="thumb__title">10. classes &amp; properties</p>
         <img class="thumb__visual" src="img/10_classes_properties/icon.png" alt="">
      </a>
      <a href="11_static_enum.html" class="main__thumb pro">
         <p class="thumb__title">11. static en enum</p>
         <img class="thumb__visual" src="img/11_static_enum/icon.png" alt="">
      </a>
      <a href="12_overerving.html" class="main__thumb pro">
         <p class="thumb__title">12. overerving</p>
         <img class="thumb__visual" src="img/12_overerving/icon.jpg" alt="">
      </a>
      <a href="13_oo_samenvatting.html" class="main__thumb pro">
         <p class="thumb__title">13. OO samenvatting</p>
         <img class="thumb__visual" src="img/13_oo_samenvatting/icon.png" alt="">
      </a>
      <a href="14_sql_databanken.html" class="main__thumb pro">
         <p class="thumb__title">14. SQL databanken</p>
         <img class="thumb__visual" src="img/14_sql_databanken/icon.png" alt="">
      </a>
   </nav>
   <h1>04. Methodes</h1>
   <p class="othercourses"><small>Dit hoofdstuk is onderdeel van de cursus <a href="https://rogiervdl.github.io/CS-course/">C#</a>. Andere cursussen in dezelfde reeks: <a href="https://rogiervdl.github.io/HTML-course/">HTML</a>, <a href="https://rogiervdl.github.io/CSS-course/">CSS</a>, <a href="https://rogiervdl.github.io/JS-course/">Javascript</a>, <a href="https://rogiervdl.github.io/DEVENV-course/">Ontwikkelomgeving</a>.</small></p>
   <div id="toc"></div>
   <main>

      <!-- VIDEO -->
      <h2>Op Youtube</h2>
      <p>Deze video maakt deel uit van de <a href="https://www.youtube.com/playlist?list=PLYfkd2Gq0ciEi9lCmNbiy8NmcyqGMQd7f">IIP playlist</a> van de <a href="https://www.youtube.com/@rogiervanderlinde1775">Youtube channel</a> van Rogier van der Linde. </p>
      <p><em>Let op: deze video's zijn al een paar jaar oud, dus hier en daar kunnen kleine afwijkingen voorkomen met deze cursus, die wel altijd up-to-date is. </em></p>
      <div class="flexcontainer youtubecontainer">
         <iframe class="youtube" width="600" height="378" src="https://www.youtube.com/embed/gvytDXUJT4g" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
         <figure class="print">
            <a href="https://www.youtube.com/watch?v=gvytDXUJT4g"><img src="img/04_methodes/youtube-iip-methodes.png" alt="" class="w-500"></a>
            <figcaption><a href="https://www.youtube.com/watch?v=gvytDXUJT4g">https://www.youtube.com/watch?v=gvytDXUJT4g</a>
            </figcaption>
         </figure>
         <div class="youtube_toc">
            <ul>
               <li><a href="https://www.youtube.com/watch?v=gvytDXUJT4g">0:00 Intro</a></li>
               <li><a href="https://www.youtube.com/watch?v=gvytDXUJT4g?t=86">1:26 reeds gekende methodes</a></li>
               <li><a href="https://www.youtube.com/watch?v=gvytDXUJT4g?t=348">5:48 Wpf voorbeeld: UpdateUI()</a></li>
               <li><a href="https://www.youtube.com/watch?v=gvytDXUJT4g?t=614">10:14 Console voorbeeld: LeesPositiefGetal(), IsPriem()</a></li>
               <li><a href="https://www.youtube.com/watch?v=gvytDXUJT4g?t=1258">20:58 hergebruik IsPriem() in WPF toepassing</a></li>
               <li><a href="https://www.youtube.com/watch?v=gvytDXUJT4g?t=1566">26:06 methodes zonder return (met/zonder parameters): UpdateUI(), DrukMenu(), DrukKerstboom()</a></li>
               <li><a href="https://www.youtube.com/watch?v=gvytDXUJT4g?t=1899">31:39 methodes met return (met/zonder parameters): VraagPositiefGetal(), GrootsteGemeneDeler() </a></li>
               <li><a href="https://www.youtube.com/watch?v=gvytDXUJT4g?t=2059">34:19 pure methodes</a></li>
               <li><a href="https://www.youtube.com/watch?v=gvytDXUJT4g?t=2731">45:31 voordelen van methodes</a></li>
            </ul>
         </div>

      </div>

      <h2>Reeds gekende methodes</h2>
      <p>Methodes gebruiken we eigenlijk nu al. Enkele voorbeelden uit de cursus:</p>
      <pre><code>Console.WriteLine("hallo"); // methode WriteLine(): drukt tekst "hallo"

string antwoord = Console.ReadLine(); // methode ReadLine(): leest een tekst

Random rnd = new Random();
int waarde = rnd.Next(1, 20); // methode Next(): genereert een getal tussen 1 en 20

double getal3 = Math.Round(7.214); // methode Round(): rondt een getal af

char karakter = Convert.ToChar("G"); // methode ToChar(): zet een tekst om naar een karakter

string str1 = "aap";
string str2 = "noot";
int vergelijk = str1.CompareTo(str2); // methode CompareTo(): vergelijkt str1 alfabetisch met str2

Console.Clear(); // methode Clear(): wist de console
</code></pre>
      <div class="tips" data-caption="💡TIP">
         <p>in Visual Studio staan methodenamen in het <span style="color: #725116">DonkerBruin</span></p>
      </div>
      <h2>Naam, parameters, returnwaarde</h2>
      <p>
         Enkele vaststellingen:
      </p>
      <ul>
         <li>alle methodes hebben een <strong>naam</strong> in PascalCasing, bv. WriteLine, ToChar, Clear…</li>
         <li>sommige methodes gebruiken één of meer <strong>argumenten</strong>, bv. Next(…, …), ToChar(…)… <br>andere methodes gebruiken geen argumenten, bv. ReadLine(), Clear() … </li>
         <li>sommige methodes geven een <strong>waarde terug</strong>, bv. ReadLine() geeft een string, Next(…) geeft een int…<br>andere methodes geven geen waarde terug, bv. WriteLine(), Clear()</li>
      </ul>
      <p>Voorbeelden:</p>
      <table class="blue">
         <thead>
            <tr>
               <th scope="col">CODEFRAGMENT</th>
               <th scope="col">METHODENAAM</th>
               <th scope="col">RETURNTYPE</th>
               <th scope="col">ARGUMENTEN</th>
            </tr>
         </thead>
         <tbody>
            <tr>
               <td><code>Console.WriteLine("hallo");</code></td>
               <td><code>WriteLine</code></td>
               <td><code>-</code></td>
               <td><code>string</code></td>
            </tr>
            <tr>
               <td><code>string antwoord = Console.ReadLine();</code></td>
               <td><code>ReadLine</code></td>
               <td><code>string</code></td>
               <td><code>-</code></td>
            </tr>
            <tr>
               <td><code>Random rnd = new Random();<br>int waarde = rnd.Next(1,20);</code></td>
               <td><code>Next</code></td>
               <td><code>int</code></td>
               <td><code>int, int</code></td>
            </tr>
            <tr>
               <td><code>double getal3 = Math.Round(7.214);</code></td>
               <td><code>Round</code></td>
               <td><code>double</code></td>
               <td><code>double</code></td>
            </tr>
            <tr>
               <td><code>char karakter = Convert.ToChar("G");</code></td>
               <td><code>ToChar</code></td>
               <td><code>char</code></td>
               <td><code>string</code></td>
            </tr>
            <tr>
               <td><code>string str1 = "aap";<br>string str2 = "noot";<br>int vergelijk = str1.CompareTo(str2);</code></td>
               <td><code>CompareTo</code></td>
               <td><code>int</code></td>
               <td><code>string</code></td>
            </tr>
            <tr>
               <td><code>Console.Clear();</code></td>
               <td><code>Clear</code></td>
               <td><code>-</code></td>
               <td><code>-</code></td>
            </tr>
         </tbody>
      </table>
      <p><em>Om een methode te kunnen gebruiken, moet je dus de naam kennen, de verwachte parameter(s), en het returntype.</em></p>

      <h2>Methodes schrijven</h2>
      <p>De <strong>declaratie</strong> van een nieuwe methode bestaat uit de volgende onderdelen:</p>
      <ul>
         <li>zichtbaarheid: <code>private</code> of <code>public</code>, in deze cursus altijd <code>private</code></li>
         <li>return-type: <code>int</code>, <code>double</code>, <code>string</code>, ... <code>void</code> indien geen return-waarde</li>
         <li>naam: zelfgekozen, in <em>PascalCase</em></li>
         <li>parameterlijst: parameters met vermelding van <strong>type</strong> en <strong>naam</strong>, gescheiden door komma's</li>
         <li>body: instructies tussen <code>{}</code>, eventueel afgesloten met een <code>return</code></li>
      </ul>
      <p><img src="img/04_methodes/methodes-maken.png" alt="" class="w-800"></p>
      <p>Algemene syntax:</p>
      <pre><code>private returntype MethodeNaam(type1 parameter1, type2 parameter2…)
{
   // instructies
   // ...
   return waarde; // deze regel is optioneel
}
</code></pre>
      <p><strong>Opmerking:</strong> bij console-applicaties moeten methodes steeds voorafgegaan worden door het keyword <code>static</code>
      </p>
      <pre><code>private static int VraagPositiefGetal()
{
   // ... methode body hier
}

private static int GrootsteGemeneDeler(int get1, int get2)
{
    // ... methode body hier
}
</code></pre>
      <h3>Type 1: geen parameters, geen return &mdash; "doen"</h3>
      <p>Dit zijn eerder domme methodes, die altijd hetzelfde <strong>"doen"</strong>. Voorbeeld van een methode die een keuzemenu afdrukt:</p>
      <p><img src="img/04_methodes/methode-type1.png" alt="" class="w-800"></p>
      <h3>Type 2: met parameters, geen return &mdash; "realiseren"</h3>
      <p>Deze methodes lijken op de vorige, behalve dat wat ze doen afhankelijk is van parameters, ze <strong>"realiseren"</strong>. Voorbeeld van een methode die een kerstboom afdrukt:</p>
      <p><img src="img/04_methodes/methode-type2.png" alt="" class="w-800"></p>
      <h3>Type 3: geen parameters, met return &mdash; "genereren"</h3>
      <p>Dergelijke methodes <strong>"genereren"</strong>. Methode die een getal inleest tot het positief is:</p>
      <p><img src="img/04_methodes/methode-type3.png" alt="" class="w-800"></p>
      <h3>Type 4: met parameters, met return &mdash; "berekenen"</h3>
      <p>Dergelijke methodes accepteren input, en geven een resultaat terug: ze "genereren". Methode die twee gehele getallen vraagt, en de grootste gemene deler teruggeeft:</p>
      <p><img src="img/04_methodes/methode-type4.png" alt="" class="w-800"></p>
      <h3>Parameters vs. argumenten</h3>
      <div class="tips" data-caption="🎓 DEFINITIE">
         <p>bij <strong>definitie</strong> gebruiken we de term <strong>parameters</strong>, b.v. <code>(get1, get2)</code>
            <br>bij <strong>aanroep</strong> gebruiken we de term <strong>argumenten</strong>, b.v. <code>(12, 18)</code>
         </p>
      </div>

      <h2>Methodes in praktijk</h2>
      <h3>Voorbeeld 1, console app: grootste gemene deler</h3>
      <p>Een voorbeeld consoletoepassing die twee getallen inleest, en de grootste gemene deler bepaalt:</p>
      <div class="precontainer">
         <pre><code>class Program
{
    // methode om positief getal te vragen
    private static int VraagPositiefGetal()
    {
      Console.Write("Geef een positief getal: ");
      int getal = Convert.ToInt32(Console.ReadLine()); // lokale variabele
      while (getal &lt;= 0)
      {
          Console.Write("Het getal moet positief zijn! Geef een getal: ");
          getal = Convert.ToInt32(Console.ReadLine());
      }
      return getal;
    }

    // methode om grootste gemene deler van twee getallen te bepalen
    private static int GrootsteGemeneDeler(int get1, int get2)
    {
        int ggd = Math.Min(get1, get2);
        while (get1 % ggd != 0 || get2 % ggd != 0)
        {
            ggd--;
        }
        return ggd;
    }

    // hoofdprogramma
    private static void Main(string[] args)
    {
        int getal1 = VraagPositiefGetal(); // gebruik methode VraagPositiefGetal
        int getal2 = VraagPositiefGetal(); // gebruik opnieuw methode VraagPositiefGetal
        Console.Write("De grootste gemene deler is: ");
        Console.WriteLine(GrootsteGemeneDeler(getal1, getal2)); // gebruik methode GrootsteGemeneDeler
        Console.ReadKey();
    }
}
</code></pre>
         <div class="codemarker" data-text="GrootsteGemeneDeler(int get1, int get2)" data-color="#C06000"></div>
         <div class="codemarker" data-text="GrootsteGemeneDeler(getal1, getal2)"></div>
         <div class="codemarker" data-text="VraagPositiefGetal()" data-color="#C06000"></div>
         <div class="codemarker" data-text="VraagPositiefGetal()" data-nth="2"></div>
         <div class="codemarker" data-text="VraagPositiefGetal()" data-nth="3"></div>
      </div>
      <p>Merk op dat in Console toepassingen methodes altijd worden voorafgegaan door <code>static</code> (uitleg waarom valt buiten deze cursus)</p>
      <figure class="console">
         <pre class="w-500">Geef een positief getal: 12
Geef een positief getal: 18
De grootste gemene deler is: 6</pre>
      </figure>
      <h3>Voorbeeld 2, console app: kerstboom</h3>
      <p>Een voorbeeld consoletoepassing die twee getallen inleest, en de grootste gemene deler bepaalt:</p>
      <div class="precontainer">
         <pre><code>class Program
{
    // methode om een kerstboom af te drukken met gegeven hoogte, breedte en karakter
    private static void DrukKerstboom(int hoogte, int breedte, char c)
    {
        int i, j, aantalSterren, aantalSpaties; // lokale variabelen
        for (i = 1; i &lt; hoogte; i++)
        {
            aantalSterren = (i * breedte) / hoogte;
            aantalSpaties = (breedte - aantalSterren) / 2;
            for (j = 0; j &lt; aantalSpaties; j++) Console.Write(" ");
            for (j = 0; j &lt; aantalSterren; j++) Console.Write(c);
            Console.WriteLine();
        }
        return;
    }

    private static void Main(string[] args) {
        DrukKerstboom(10, 7, '+');
        DrukKerstboom(13, 10, '*');
        DrukKerstboom(7, 6, 'O');
    }
}</code></pre>
         <div class="codemarker" data-text="DrukKerstboom(int hoogte, int breedte, char c)" data-color="#C06000"></div>
         <div class="codemarker" data-text="DrukKerstboom(10, 7, '+')"></div>
         <div class="codemarker" data-text="DrukKerstboom(13, 10, '*')"></div>
         <div class="codemarker" data-text="DrukKerstboom(7, 6, 'O')"></div>
      </div>
      <figure class="console">
         <pre class="w-500">
   +
  ++
  ++
  +++
 ++++
 ++++
 +++++
++++++

    *
    **
   ***
   ***
   ****
  *****
  ******
  ******
 *******
 ********
*********

  O
  OO
 OOO
 OOOO
OOOOO</pre>
      </figure>
      <h3>Voorbeeld 3, WPF app: grootste gemene deler</h3>
      <p>Een methode in een WPF app gebruiken is niet zoveel anders dan in een Console app. Drop de methode in je code behind, en je bent klaar om ‘m te gebruiken. Maken we bij wijze van voorbeeld de grootste gemene deler app in WPF:</p>
      <pre class="language-html language-xaml"><code>&lt;TextBox x:Name="txtGetal1" ... /&gt;
&lt;Label Content="Getal 1: " ... /&gt;
&lt;TextBox x:Name="txtGetal2" ... /&gt;
&lt;Label Content="Getal 2: " ... /&gt;
&lt;Button x:Name="btnBereken" Content="BEREKEN" Click="BtnBereken_Click" ... /&gt;
&lt;Label Content="Berekening grootste gemene deler" ... /&gt;
&lt;Label x:Name="lblResultaat" Content="" .../&gt;</code></pre>

      <div class="precontainer">
         <pre><code>public partial class MainWindow : Window
{
    public MainWindow()
    {
        InitializeComponent();
    }

    private int GrootsteGemeneDeler(int get1, int get2)
    {
        int ggd = Math.Min(get1, get2);
        while (get1 % ggd != 0 || get2 % ggd != 0)
        {
            ggd--;
        }
        return ggd;
    }

    private void BtnBereken_Click(object sender, RoutedEventArgs e)
    {
        int getal1 = Convert.ToInt32(txtGetal1.Text);
        int getal2 = Convert.ToInt32(txtGetal2.Text);
        lblResultaat.Content = $"De grootste gemene deler is {GrootsteGemeneDeler(getal1, getal2)}";
    }
}</code></pre>
         <div class="codemarker" data-text="GrootsteGemeneDeler(int get1, int get2)" data-color="#C06000"></div>
         <div class="codemarker" data-text="GrootsteGemeneDeler(getal1, getal2)"></div>
      </div>

      <h2>Call by reference / value</h2>
      <p>Dit gaat over de vraag: <i>wat gebeurt er als een methode de waarde van een binnenkomende parameter verandert?</i></p>
      <ul>
         <li><strong>Call by value</strong>: de variabele geeft enkel zijn waarde door, wijzigingen gaan verloren
            <br>Geldt voor: alle primitieve types (<code>bool</code>, <code>char</code>, <code>int</code>,
            <code>double</code>...) en <code>string</code> (*)
         </li>
         <li>
            <strong>Call by reference</strong>: de variabele geeft zijn referentie door; wijzigingen blijven behouden
            <br>Geldt voor: al de rest (objecten, arrays, lijsten…)
         </li>
      </ul>
      <p>De voorbeelden verder maken gebruik van <a href="05_arrays.html">arrays</a> dat in het volgende deel aan bod komt, dus misschien wil je dat deel eerst bestuderen en dan naar hier terugkeren.</p>
      <h3>Call by value voorbeeld</h3>
      <p>Als je bv. een int meegeeft met een methode, dan blijven wijzigingen door die methode niet behouden:</p>
      <pre><code>static void Verdubbel(int get)
{
   get *= 2;
}

int getal1 = 12;
Console.WriteLine($"Getal is {getal1}"); // getal1 is 12
Verdubbel(getal1);
Console.WriteLine($"Getal is {getal1}"); // getal1 is nog steeds 12; wijzigingen gaan verloren!</code></pre>
      <h3>Call by reference voorbeeld</h3>
      <p>Geef je daarentegen een array mee, dan blijven wijzigingen door die methode wel behouden:</p>
      <pre><code>static void Verdubbel(int[] getallenrij)
{
   for (int i = 0; i &lt; getallenrij.Length; i++)
   {
      getallenrij[i] *= 2;
   }
}

int[] getallen = { 1, 3, 7, 8 };
Console.WriteLine($"Getallen zijn {string.Join(", ", getallen)}"); // 1, 3, 7, 8
Verdubbel(getallen);
Console.WriteLine($"Getallen zijn {string.Join(", ", getallen)}"); // veranderd naar 2, 6, 14, 16
</code></pre>
      <h3><code>ref</code> en <code>out</code></h3>
      <p>
         Wil je primitieve types of strings toch veranderen in een methode, dan kan dat met de sleutelwoorden
         <code>out</code> of <code>ref</code>.
         Een voorbeeld voor <code>ref</code>:
      </p>
      <pre><code>static void Verdubbel(ref int get)
{
   get *= 2;
}

int getal1 = 12;
Console.WriteLine($"Getal is {getal1}"); // getal1 is 12
Verdubbel(ref getal1);
Console.WriteLine($"Getal is {getal1}"); // getal1 is 24; wijzigingen blijven behouden!</code></pre>
      <ul class="arrow">
         <li><code>int</code> is nu called by reference!</li>
         <li>het verschil tussen <code>out</code> en <code>ref</code> is klein (bij <code>out</code> <em>moet</em> je de waarde veranderen in de methode, bij <code>ref</code> <em>mag</em> je de waarde veranderen)</li>
      </ul>
      <p>
      </p>

      <div class="tips" data-caption="💀 TO REF OR NOT TO REF">
         <p>
            Gevorderde programmeurs kunnen ongetwijfeld voordelen halen door value types te veranderen naar reference, maar het gebruik van <code>ref</code> of <code>out</code> is <strong>sterk afgeraden</strong> voor beginnende programmeurs.
            Het bovenstaand voorbeeld kan je beter herschrijven met een eenvoudige return:
         </p>
      <pre><code>static int Verdubbel(int get)
{
   int verdubbeld = get * 2;
   return verdubbeld;
}

int getal1 = 12;
Console.WriteLine($"Getal is {getal1}"); // getal1 is 12
getal1 = Verdubbel(getal1);
Console.WriteLine($"Getal is {getal1}"); // getal1 is 24; wijzigingen doorgegeven via return</code></pre>
      </div>


      <h2>Veelgemaakte fouten</h2>
      <h3>Fout 1: verwarring parameters met argumenten</h3>
      <p>
         <mark>Parameters</mark> zijn onbekenden die je gebruikt bij de definitie van de methode, <mark>argumenten</mark> zijn de waarden die je meegeeft bij het uitvoeren van de methode (letterlijke waarden of via variabelen).
      </p>
      <pre><code>static void Main(string[] args)
{
   int lengte = 5;
   int breedte = 10;
   int hoogte = 7;
   double volume1 = BerekenVolume(lengte, breedte, hoogte); // argumenten: lengte, breedte, hoogte
   double volume2 = BerekenVolume(8, 16, 3); // argumenten: 8, 16, 3
}

static double BerekenVolume(int l, int b, int h) // parameters: l, b, h
{
     double volume = l * b * h;
     return volume;
}
</code></pre>
      <div class="tips" data-caption="💡TIP">
         <p>geef je parameters voor de duidelijkheid andere namen dan de andere variabelen</p>
      </div>

      <h3>Fout 2: parameters waarden geven</h3>
      <p>De waarden van de parameters van een methode worden meegegeven door de code die deze methode aanroept. Het is dus <strong>NIET</strong> de bedoeling dat je deze waarden binnen de methode opnieuw instelt:</p>
      <pre><code class="redcomments"> static double BerekenBMI(double gewicht, double lengte)
 {
     Console.Write("Gewicht: ");
     gewicht = Convert.ToDouble(Console.ReadLine()); // FOUT! waarde gewicht meegegeven bij methode oproep
     Console.Write("Lengte: ");
     lengte = Convert.ToDouble(Console.ReadLine()); // FOUT! waarde lengte meegegeven bij methode oproep
     return gewicht / (lengte * lengte);
 }
</code></pre>
      <h3>Fout 3: parameters van waarde veranderen</h3>
      <p>Een andere klassieke fout is het gebruiken van parameters in een berekening:</p>
      <pre><code class="redcomments">static double CelsiusNaarFahrenheit(double celsius)
{
    celsius = celsius * 1.8 + 32; // niet ok: verander binnenkomende parameters niet van waarde
    return celsius;
}</code></pre>
      <p>De juiste implementatie:</p>
      <pre><code>static double CelsiusNaarFahrenheit(double celsius)
{
    int farenheit = celsius * 1.8 + 32; // ok: gebruik extra  variabele
    return farenheit;
}
</code></pre>


      <h2>Pure methodes</h2>
      <blockquote class="greenbig">
         Een <mark>pure methode</mark> is een methode die volledig <strong>onafhankelijk van de buitenwereld</strong> opereert.
         <br>Het <strong>leest of schrijft dus niks extern</strong>: geen globale variabelen, externe bronnen, WPF controls...</blockquote>
      <p>Dit betekent:</p>
      <ul>
         <li>je kan ze <strong>in elke context gebruiken</strong> (WPF toepassing, Console app, ...)</li>
         <li>bij <strong>dezelfde input</strong> (parameters) krijg je altijd <strong>dezelfde output</strong> (returnwaarde).</li>
         <li>alle communicatie met de buitenwereld gebeurt via <strong>parameters en return</strong></li>
      </ul>
      <p>Belangrijkste regels:</p>
      <ul>
         <li>lees of schrijf geen globale variabelen</li>
         <li>lees of schrijf geen externe bronnen als bestanden, databanken, API's...</li>
         <li>lees of schrijf niet naar de Console (<code>Console.ReadLine()</code>, <code>Console.ReadKey()</code>, <code>Console.Write(...)</code>, <code>Console.WriteLine(...)</code>, ...)</li>
         <li>lees of schrijf geen WPF controls (<a href="07_wpfcontrols.html#textbox">TextBox</a> tekst, <a href="07_wpfcontrols.html#slider">Slider</a> waarde...)</li>
      </ul>
      <p>En als je het helemaal correct wil doen:</p>
      <ul>
         <li>maak geen gebruik van de <a href="06_dotnetclasses.html#random">Random</a> klasse (anders is de output niet voorspelbaar)</li>
         <li>maak geen gebruik van omgevingsspecifieke klassen als <a href="06_dotnetclasses.html#bitmapimage">BitmapImage</a>, <a href="06_dotnetclasses.html#messagebox">MessageBox</a>... (werken b.v. niet in de Console)</li>
      </ul>
      <div class="tips" data-caption="☝️BELANGRIJK">
         <p>Pure methodes is een erg belangrijk concept in programmeren, belangrijk voor o.a. compiler optimalisatie, code libraries, herbruikbaarheid...</p>
      </div>

      <h3>Voorbeeld 1: puur dankzij returnwaarde</h3>
      <p>Een methode <code>DrukKerstboom()</code>, niet puur:</p>
      <div class="precontainer">
         <pre><code class="redcomments">private static void DrukKerstboom(int hoogte, int breedte, char c)
{
   int i, j, aantalSterren, aantalSpaties; // lokale variabelen
   for (i = 0; i &lt; hoogte; i++)
   {
      aantalSterren = (i * breedte) / hoogte;
      aantalSpaties = (breedte - aantalSterren) / 2;
      for (j = 0; j &lt; aantalSpaties; j++) Console.Write(" "); // FOUT! vermijd schrijven naar de console
      for (j = 0; j &lt; aantalSterren; j++) Console.Write(c); // FOUT! vermijd schrijven naar de console
      Console.WriteLine(); // FOUT! vermijd schrijven naar de console
   }
   return;
}

private static void Main(string[] args) {
   DrukKerstboom(20, 15, '+');
}
</code></pre>
         <div class="codemarker" data-text="Console.Write(&quot; &quot;)" data-color="#cc0000"></div>
         <div class="codemarker" data-text="Console.Write(c)" data-color="#cc0000"></div>
         <div class="codemarker" data-text="Console.WriteLine()" data-color="#cc0000"></div>
      </div>

      <p>Hetzelfde programma, nu wel met pure methode:</p>
      <div class="precontainer">
         <pre><code>private static string GeefKerstboom(int hoogte, int breedte, char c)
{
   string str = "";
   int i, j, aantalSterren, aantalSpaties;
   for (i = 0; i &lt; hoogte; i++)
   {
         aantalSterren = (i * breedte) / hoogte;
         aantalSpaties = (breedte - aantalSterren) / 2;
         for (j = 0; j &lt; aantalSpaties; j++) str += " ";
         for (j = 0; j &lt; aantalSterren; j++) str += c;
         str += Environment.NewLine;
   }
   return str; // OK: geef een string terug
}

private static void Main(string[] args)
{
   string kerstboom = GeefKerstboom(20, 15, '+');
   Console.WriteLine(kerstboom);
}</code></pre>
         <div class="codemarker" data-text="return str"></div>
      </div>

      <h3>Voorbeeld 2: puur dankzij parameters</h3>
      <p>De eerdere methode <code>GrootsteGemeneDeler()</code>, niet puur:</p>
      <div class="precontainer">
         <pre><code class="redcomments">private static int GrootsteGemeneDeler()
{
   Console.Write("Geef het eerste getal: "); // FOUT! vermijd lezen van de Console
   int get1 = Convert.ToInt32(Console.ReadLine()); // FOUT! vermijd schrijven naar de Console
   Console.Write("Geef het tweede getal: "); // FOUT! vermijd lezen van de Console
   int get2 = Convert.ToInt32(Console.ReadLine()); // FOUT! vermijd schrijven naar de Console
   int ggd = Math.Min(get1, get2);
   while (get1 % ggd != 0 || get2 % ggd != 0)
   {
      ggd--;
   }
   return ggd;
}

private static void Main(string[] args)
{
   int grootsteGD = GrootsteGemeneDeler();
   Console.WriteLine($"de grootste gemene deler is {grootsteGD}");
}
</code></pre>
         <div class="codemarker" data-text="Console.Write(&quot;Geef het eerste getal: &quot;)" data-color="#cc0000"></div>
         <div class="codemarker" data-text="Console.Write(&quot;Geef het tweede getal: &quot;)" data-color="#cc0000"></div>
         <div class="codemarker" data-text="Console.ReadLine()" data-color="#cc0000"></div>
         <div class="codemarker" data-text="Console.ReadLine()" data-color="#cc0000" data-nth="2"></div>
      </div>

      <figure class="console">
         <pre>Geef het eerste getal: 18
Geef het tweede getal: 12
De grootste gemene deler is 6</pre>
         <figcaption>resultaat in de console</figcaption>
      </figure>
      <p>Hetzelfde programma, nu wel met pure methode:</p>
      <div class="precontainer">
         <pre><code>private static int GrootsteGemeneDeler(int get1, int get2) // OK: gebruik parameters
{
   int ggd = Math.Min(get1, get2);
   while (get1 % ggd != 0 || get2 % ggd != 0)
   {
      ggd--;
   }
   return ggd;
}

private static void Main(string[] args)
{
   Console.Write("Geef het eerste getal: ");
   int getal1 = Convert.ToInt32(Console.ReadLine());
   Console.Write("Geef het tweede getal: ");
   int getal2 = Convert.ToInt32(Console.ReadLine());
   int grootsteGD = GrootsteGemeneDeler(getal1, getal2);
   Console.WriteLine($"de grootste gemene deler is {grootsteGD}");
}
</code></pre>
         <div class="codemarker" data-text="int get1, int get2"></div>
      </div>

      <h2>Optionele parameters</h2>
      <p>Je kan standaardwaarden opgeven voor parameters; je kan het argument dan al dan niet weglaten. Een voorbeeld:</p>
      <p><img src="img/04_methodes/methodes-optional.png" alt="" class="w-800"></p>

      <p>Een tweede iets uitgebreider voorbeeld met achteraan drie <em class="em">optionele parameters</em> (merk op: optionele parameters moeten <i>achteraan</i> de parameterlijst staan):</p>
      <pre><code>private static string OrderDetails(string verkoper, string product, decimal prijs, string klant = null, int aantal = 1, int kortingPerc = 0)
{
   return $@"
Verkoper: {verkoper}
Klant: {(klant == null ? "(onbekend)" : klant)}
Verkoop: {aantal} x {product}
Korting: {(kortingPerc == 0 ? "geen" : kortingPerc + "%")}
Te betalen: {Math.Round(prijs * aantal * (100 - kortingPerc) / 100, 2)} euro";
}</code></pre>
      <p>Als je geen waarde meegeeft bij de method call, wordt de opgegeven standaardwaarde genomen. Volgende method
         oproep is dus geldig:</p>
      <pre><code>Console.WriteLine(OrderDetails("Gift shop", "Red Mug", 12.5m)); // noot: 12.5m is hoe je een decimal literal noteert</code></pre>
      <figure class="console">
         <pre>Verkoper: Gift shop
Klant: (onbekend)
Verkoop: 1 x Red Mug
Korting: geen
Te betalen: 12,5 euro</pre>
         <figcaption>resultaat in de console, klant, aantal en korting niet opgegeven</figcaption>
      </figure>
      <p>Andere voorbeelden van geldige calls:</p>
      <pre><code>Console.WriteLine(OrderDetails("Gift shop", "Red Mug", 12.5m, "Sara Kazani"));
Console.WriteLine(OrderDetails("Gift shop", "Red Mug", 12.5m, "Sara Kazani", 3));
Console.WriteLine(OrderDetails("Gift shop", "Red Mug", 12.5m, "Sara Kazani", 3, 20));
</code></pre>
      <h2>Named parameters</h2>
      <p>Je kan bij een methode oproep met optionele parameters alleen argumenten achteraan weglaten, niet middenin. Dit
         is dus niet geldig (klant en aantal weggelaten):</p>
      <pre><code class="redcomments">Console.WriteLine(OrderDetails("Gift shop", "Red Mug", 12.5m, , , 20)); // FOUT!</code></pre>
      <p>Je kan dit oplossen met <em class="em">named parameters</em>:</p>
      <pre><code>Console.WriteLine(OrderDetails(verkoper: "Gift shop", product: "Red Mug", prijs: 12.5m, kortingPerc: 20));</code></pre>
      <figure class="console">
         <pre>Verkoper: Gift shop
Klant: (onbekend)
Verkoop: 1 x Red Mug
Korting: 15%
Te betalen: 10,62 euro</pre>
         <figcaption>resultaat in de console, klant en aantal niet opgegeven</figcaption>
      </figure>
      <ul>
         <li class="arrow">named parameters maken je code ook leesbaarder</li>
      </ul>
      <div class="pro">
         <h2>Lambda expressies</h2>
         <p>
            <em class="em">Lambda expressies</em> zijn verkorte notaties met <code>=&gt;</code> voor methodes. Volgende
            notaties zijn gelijkwaardig:
         </p>
         <pre><code>int Som(int a, int b) =&gt; a + b;

int Som(int a, int b)
{
   return a + b;
}
</code></pre>
         <h2>Extensie methodes</h2>
         <p><em class="em">Extensie methodes</em> zijn methodes waarmee je basisklassen als <code>string</code> en
            <code>Array</code> kan uitbreiden. Definieer ze in een aparte statische klasse (voorbeeld voor
            <code>string</code> input type):
         </p>
         <pre><code>public static class MyStringExtensions
{
    // Extension method to count vowels in a string
    public static int MyCountVowels(this string input)
    {
        string[] words = input.ToLower().Split(new char[] { 'a', 'e', 'i', 'o', 'u' }, StringSplitOptions.RemoveEmptyEntries);
        return words.Length - 1;
    }

    // Extension method to encode a string by shifting each character
    public static string MyEncode(this string input)
    {
        string encoded = "";
        foreach (char c in input)
        {
            encoded += Convert.ToChar((int)c + 1);
        }
        return encoded;
    }
}</code></pre>
         <p>Voorbeelden van gebruik:</p>
         <pre><code>string sentence = "This is an example sentence.";

int numVowels = sentence.MyCountVowels();
string encoded = sentence.MyEncode();
int encodedNumVowels = sentence.MyEncode().MyCountVowels(); // chaining example</code></pre>
      </div>

   </main>
   <footer>
      <img src="common/img/thats-all.jpg" alt="">
      <div class="footer__bottom">
         <p>@2024, Rogier van der Linde</p>
         <p>cursussen in dezelfde reeks: <a href="https://rogiervdl.github.io/HTML-course/">HTML</a> &mdash; <a href="https://rogiervdl.github.io/CSS-course/">CSS</a> &mdash; <a href="https://rogiervdl.github.io/JS-course/">Javascript</a> &mdash; <a href="https://rogiervdl.github.io/DEVENV-course/">Ontwikkelomgeving</a></p>
      </div>
   </footer>
   <a aria-label="up" id="up" href="#top"><span class="fas fa-chevron-circle-up"></span></a>
   <!-- scripts -->
   <script src="common/vendor/prism/prism.js"></script>
   <script src="common/vendor/hystmodal/hystmodal.min.js"></script>
   <script src="common/js/mode.js"></script>
   <script src="common/js/scripts.js"></script>
   <!-- Google tag (gtag.js) -->
   <script async src="https://www.googletagmanager.com/gtag/js?id=G-Q7JWZ9HHW0"></script>
   <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag('js', new Date());

      gtag('config', 'G-Q7JWZ9HHW0');
   </script>
</body>

</html>
